{"version":3,"sources":["assets/loading.svg","components/Loading.js","components/Nav.js","components/subcomponents/ToggleSwitch.js","components/Preferences.js","components/subcomponents/Status.js","components/Search.js","components/VideoQuality.js","components/VideoInfo.js","utils/constants.js","utils/utils.js","App.js","index.js"],"names":["Loading","className","src","loading","alt","Nav","dark","switchTheme","setPref","showMain","isSearching","style","pointerEvents","onClick","ToggleSwitch","value","Preferences","autoDownload","onAutoDownloadChange","formatType","formatTypes","onFormatChange","nativeMode","onNativeModeChange","onChange","e","options","Status","status","showStatus","error","statusMsg","setError","setStatusMsg","setStatus","Search","url","setUrl","getVideoInfo","target","onKeyDown","onPaste","type","placeholder","VideoQuality","quality","format","isVideo","download","itag","getStrDuration","sec","h","m","Math","floor","VideoInfo","videoInfo","backgroundImage","thumbnail","channel","name","title","duration","formats","map","index","hasVideo","label","API","YTregex","sleep","ms","Promise","resolve","setTimeout","normalizeVideoInfo","data","basicInfo","videoDetails","lengthSeconds","thumbnails","channelInfo","author","channel_url","filter","container","hasAudio","q","qualityLabel","audioBitrate","f","audioFormats","videoFormats","sort","a","b","autoDownloadExists","info","pref","print","find","click_link","link","document","createElement","href","click","get_download_url","obj","URLSearchParams","toString","App","useState","setDark","onSearch","setSearch","showInitial","setInitial","showPref","setAutoDownload","setNativeMode","setFormatType","setVideoInfo","useEffect","local_dark","localStorage","getItem","documentElement","setAttribute","localAutoDownload","localFormatType","JSON","parse","setItem","stringify","localNativeMode","key","pInitial","test","Error","axios","get","params","videoURL","res","message","printStatus","is_autodownload","start_autodownload","nUrl","dFormat","msg","vInfo","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee833847.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.841823b5.svg\";","import React from \"react\";\r\nimport \"./styles/Loading.scss\";\r\nimport loading from \"../assets/loading.svg\";\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"loadingSection\">\r\n      <img src={loading} alt=\"\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/Nav.scss\";\r\n\r\nexport default function Nav({\r\n  dark,\r\n  switchTheme,\r\n  setPref,\r\n  showMain,\r\n  isSearching,\r\n}) {\r\n  return (\r\n    <div className=\"nav\" style={isSearching ? { pointerEvents: \"none\" } : {}}>\r\n      <div className=\"site_title\" onClick={showMain}>\r\n        <span>Yt</span> downld\r\n      </div>\r\n      <div className=\"site_pref\">\r\n        <div\r\n          onClick={switchTheme}\r\n          className={`site_theme ${dark ? \"dark\" : \"\"}`}\r\n        ></div>\r\n        <div className=\"pref\" onClick={() => setPref(true)}>\r\n          <i className=\"ri-settings-6-fill\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ToggleSwitch({ value, onClick }) {\r\n  return (\r\n    <div onClick={onClick} className={`switch ${value ? \"on\" : \"\"}`}></div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport \"./styles/Preferences.scss\";\r\nimport ToggleSwitch from \"./subcomponents/ToggleSwitch\";\r\n\r\nexport default function Preferences({\r\n  setPref,\r\n  autoDownload,\r\n  onAutoDownloadChange,\r\n  formatType,\r\n  formatTypes,\r\n  onFormatChange,\r\n  nativeMode,\r\n  onNativeModeChange,\r\n}) {\r\n  return (\r\n    <div className=\"prefModal\">\r\n      <div className=\"prefContainer\">\r\n        <div className=\"prefHeader\">\r\n          <div>Preferences</div>\r\n          <button onClick={() => setPref(false)}>\r\n            <i className=\"ri-close-line\"></i>\r\n          </button>\r\n        </div>\r\n        <div className=\"prefList\">\r\n          <div className=\"prefItem\">\r\n            <div className=\"prefItemInfo\">\r\n              <div className=\"prefTitle\">\r\n                <span>Auto</span> download\r\n              </div>\r\n              <div className=\"prefDesc\">\r\n                Videos will be automatically downloaded after giving the url.\r\n              </div>\r\n            </div>\r\n            <div className=\"prefItemAction\">\r\n              <ToggleSwitch\r\n                value={autoDownload}\r\n                onClick={onAutoDownloadChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`prefItem ${autoDownload ? \"\" : \"disabled\"}`}>\r\n            <div className=\"prefItemInfo\">\r\n              <div className=\"prefTitle\">\r\n                <span>Download</span> Type\r\n              </div>\r\n              <div className=\"prefDesc\">\r\n                Select which type you want to auto download.\r\n              </div>\r\n            </div>\r\n            <div className=\"prefItemAction\">\r\n              <Select\r\n                onChange={(e) => onFormatChange(e)}\r\n                options={formatTypes}\r\n                value={formatType}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"prefItem\">\r\n            <div className=\"prefItemInfo\">\r\n              <div className=\"prefTitle\">\r\n                <span>Use</span> Native MODE\r\n              </div>\r\n              <div className=\"prefDesc\">\r\n                You can download video from native player. (By using this option\r\n                you can save our server resources)\r\n              </div>\r\n            </div>\r\n            <div className=\"prefItemAction\">\r\n              <ToggleSwitch value={nativeMode} onClick={onNativeModeChange} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Status({ status }) {\r\n  return (\r\n    status.showStatus && (\r\n      <div className={`status ${status.error ? \"error\" : \"\"}`}>\r\n        {status.error && <i className=\"ri-error-warning-line\"></i>}\r\n        {!status.error && <i className=\"ri-information-line\"></i>}\r\n        <div>{status.statusMsg}</div>\r\n        <button\r\n          onClick={() => {\r\n            status.setError(false);\r\n            status.setStatusMsg(\"\");\r\n            status.setStatus(false);\r\n          }}\r\n        >\r\n          <i className=\"ri-close-line\"></i>\r\n        </button>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/Search.scss\";\r\nimport Status from \"./subcomponents/Status\";\r\n\r\nexport default function Search({ url, setUrl, getVideoInfo, status }) {\r\n  return (\r\n    <div className=\"searchSection\">\r\n      <i className=\"ri-youtube-line\"></i>\r\n      <div className=\"isearchWrapper\">\r\n        <div className=\"search\">\r\n          <input\r\n            value={url}\r\n            onChange={(e) => setUrl(e.target.value)}\r\n            onKeyDown={(e) => getVideoInfo(e)}\r\n            onPaste={(e) => getVideoInfo(e)}\r\n            type=\"text\"\r\n            placeholder=\"Video Url\"\r\n          ></input>\r\n          <button className=\"searchIco\">\r\n            <i className=\"ri-search-eye-line\"></i>\r\n          </button>\r\n          <button onClick={() => setUrl(\"\")} className=\"searchClearIco\">\r\n            <i className=\"ri-close-line\"></i>\r\n          </button>\r\n        </div>\r\n        <Status status={status} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/VideoQuality.scss\";\r\n\r\nexport default function VideoQuality({\r\n  quality,\r\n  format,\r\n  url,\r\n  isVideo,\r\n  download,\r\n  itag,\r\n}) {\r\n  return (\r\n    <div\r\n      className=\"qualityCard\"\r\n      onClick={() => download(url, { itag, format })}\r\n    >\r\n      <div className=\"downldIco\">\r\n        <i className={isVideo ? \"ri-movie-line\" : \"ri-music-fill\"}></i>\r\n      </div>\r\n      <div className=\"resolution\">{quality}</div>\r\n      <div className=\"format\">{format}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/VideoInfo.scss\";\r\nimport Status from \"./subcomponents/Status\";\r\nimport VideoQuality from \"./VideoQuality\";\r\n\r\nconst getStrDuration = (sec) => {\r\n  let h, m;\r\n  if (sec < 60) {\r\n    return `${sec} sec`;\r\n  }\r\n\r\n  m = Math.floor(sec / 60);\r\n\r\n  if (m < 60) {\r\n    return `${m} min${sec % 60 !== 0 ? ` ${sec % 60} sec` : \"\"}`;\r\n  }\r\n\r\n  h = Math.floor(m / 60);\r\n\r\n  return `${h} h${m % 60 !== 0 ? ` ${m % 60} min` : \"\"}${\r\n    sec % 60 !== 0 ? ` ${sec % 60} sec` : \"\"\r\n  }`;\r\n};\r\n\r\nexport default function VideoInfo({\r\n  url,\r\n  setUrl,\r\n  getVideoInfo,\r\n  videoInfo,\r\n  download,\r\n  status,\r\n}) {\r\n  return (\r\n    <div className=\"videoInfoSection\">\r\n      <div className=\"searchWrapper\">\r\n        <div className=\"search\">\r\n          <input\r\n            value={url}\r\n            onChange={(e) => setUrl(e.target.value)}\r\n            onKeyDown={(e) => getVideoInfo(e)}\r\n            onPaste={(e) => getVideoInfo(e)}\r\n            type=\"text\"\r\n            placeholder=\"Video Url\"\r\n          ></input>\r\n          <button className=\"searchIco\">\r\n            <i className=\"ri-search-eye-line\"></i>\r\n          </button>\r\n          <button onClick={() => setUrl(\"\")} className=\"searchClearIco\">\r\n            <i className=\"ri-close-line\"></i>\r\n          </button>\r\n        </div>\r\n        <Status status={status} />\r\n      </div>\r\n\r\n      <div className=\"infoContainer\">\r\n        <div className=\"thumbnailContainer\">\r\n          <i className=\"ri-youtube-line\"></i>\r\n          <div\r\n            className=\"thumbnail\"\r\n            style={{ backgroundImage: `url('${videoInfo.thumbnail}')` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"videoInfo\">\r\n          <div className=\"videoChannel\">{videoInfo.channel.name}</div>\r\n          <div className=\"videoTitle\">{videoInfo.title}</div>\r\n          <div className=\"videoDuration\">\r\n            <i className=\"ri-time-fill\"></i>\r\n            {getStrDuration(videoInfo.duration)}\r\n          </div>\r\n          <div className=\"availableTitle\">\r\n            <span>Available</span> Formats\r\n          </div>\r\n          <div className=\"videoQualityList\">\r\n            {videoInfo.formats.map((format, index) => (\r\n              <VideoQuality\r\n                key={index}\r\n                quality={format.quality}\r\n                format={format.format}\r\n                isVideo={format.hasVideo}\r\n                url={format.url}\r\n                download={download}\r\n                itag={format.itag}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const formats = [\r\n  {\r\n    itag: 137,\r\n    format: \"mp4\",\r\n    quality: \"1080p\",\r\n    value: \"1080pmp4\",\r\n    label: \"Video 1080P\",\r\n  },\r\n  {\r\n    itag: 22,\r\n    format: \"mp4\",\r\n    quality: \"720p\",\r\n    value: \"720pmp4\",\r\n    label: \"Video 720P\",\r\n  },\r\n  {\r\n    itag: 135,\r\n    format: \"mp4\",\r\n    quality: \"480p\",\r\n    value: \"480pmp4\",\r\n    label: \"Video 480P\",\r\n  },\r\n  {\r\n    itag: 18,\r\n    format: \"mp4\",\r\n    quality: \"360p\",\r\n    value: \"360pmp4\",\r\n    label: \"Video 360P\",\r\n  },\r\n  {\r\n    itag: 140,\r\n    format: \"mp3\",\r\n    quality: \"0p\",\r\n    value: \"128 kbpsmp4\",\r\n    label: \"Audio 128kbps\",\r\n  },\r\n];\r\n\r\nexport const API = \"https://ytdl-api.herokuapp.com\";\r\nexport const YTregex =\r\n  /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)\\/(watch)?(\\?v=)?(\\S+)?/;\r\n","import { API } from \"./constants\";\r\n\r\nexport function sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport const normalizeVideoInfo = (data) => {\r\n  const basicInfo = {\r\n    title: data.videoDetails.title,\r\n    duration: data.videoDetails.lengthSeconds,\r\n    thumbnail: data.videoDetails.thumbnails[3].url,\r\n  };\r\n\r\n  const channelInfo = {\r\n    name: data.videoDetails.author.name,\r\n    url: data.videoDetails.author.channel_url,\r\n  };\r\n\r\n  const formats = data.formats\r\n    .filter((format) => {\r\n      if (\r\n        format.container !== null &&\r\n        format.container !== \"webm\" &&\r\n        format.hasAudio === true\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n    .map((format) => {\r\n      const q = format.hasVideo\r\n        ? format.qualityLabel\r\n        : `${format.audioBitrate} kbps`;\r\n      const f =\r\n        format.container === \"mp4\" && !format.hasVideo\r\n          ? \"mp3\"\r\n          : format.container;\r\n      return {\r\n        url: format.url,\r\n        quality: q,\r\n        format: f,\r\n        hasVideo: format.hasVideo,\r\n        itag: format.itag,\r\n      };\r\n    });\r\n\r\n  const audioFormats = formats.filter((format) => !format.hasVideo);\r\n  const videoFormats = formats.filter((format) => format.hasVideo);\r\n\r\n  videoFormats.sort((a, b) => {\r\n    if (a.itag > b.itag) return -1;\r\n    if (a.itag < b.itag) return 1;\r\n    return 0;\r\n  });\r\n\r\n  return {\r\n    ...basicInfo,\r\n    channel: channelInfo,\r\n    formats: [...videoFormats, ...audioFormats],\r\n  };\r\n};\r\n\r\nexport const autoDownloadExists = async (info, pref, print) => {\r\n  if (!pref.autoDownload) return false;\r\n\r\n  const exists = info.formats.find(\r\n    (format) => format.itag === pref.formatType.itag\r\n  );\r\n\r\n  if (!exists) {\r\n    print(\r\n      \"Can't able to start auto download. Reason - preferred format type not found for this video.\",\r\n      true\r\n    );\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nexport const click_link = (url) => {\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  link.click();\r\n};\r\n\r\nexport const get_download_url = (obj) => {\r\n  return `${API}/download?${new URLSearchParams(obj).toString()}`;\r\n};\r\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Loading from \"./components/Loading\";\nimport Nav from \"./components/Nav\";\nimport Preferences from \"./components/Preferences\";\nimport Search from \"./components/Search\";\nimport VideoInfo from \"./components/VideoInfo\";\n\nimport {\n  autoDownloadExists,\n  click_link,\n  get_download_url,\n  normalizeVideoInfo,\n  sleep,\n} from \"./utils/utils\";\nimport {\n  formats as formatTypes,\n  API,\n  YTregex,\n  formats,\n} from \"./utils/constants\";\n\nfunction App() {\n  const [dark, setDark] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [onSearch, setSearch] = useState(false);\n  const [showInitial, setInitial] = useState(true);\n  const [statusMsg, setStatusMsg] = useState(\"\");\n  const [showStatus, setStatus] = useState(false);\n  const [error, setError] = useState(false);\n\n  const [showPref, setPref] = useState(false);\n  const [autoDownload, setAutoDownload] = useState(false);\n  const [nativeMode, setNativeMode] = useState(false);\n  const [formatType, setFormatType] = useState({});\n\n  const [videoInfo, setVideoInfo] = useState({});\n\n  useEffect(() => {\n    const local_dark = localStorage.getItem(\"dark\");\n    if (!local_dark || local_dark === \"false\") {\n      setDark(false);\n      document.documentElement.setAttribute(\"data-theme\", \"\");\n    } else {\n      setDark(true);\n      document.documentElement.setAttribute(\"data-theme\", \"dark\");\n    }\n\n    const localAutoDownload = localStorage.getItem(\"autoDownload\");\n    setAutoDownload(localAutoDownload === \"true\" ? true : false);\n\n    const localFormatType = JSON.parse(localStorage.getItem(\"formatType\"));\n    if (!localFormatType) {\n      localStorage.setItem(\"formatType\", JSON.stringify(formatTypes[0]));\n      setFormatType(formatTypes[0]);\n    } else {\n      setFormatType(localFormatType);\n    }\n\n    const localNativeMode = localStorage.getItem(\"nativeMode\");\n    setNativeMode(localNativeMode === \"true\" ? true : false);\n  }, []);\n\n  const switchTheme = () => {\n    if (dark) {\n      setDark(false);\n      localStorage.setItem(\"dark\", \"false\");\n      document.documentElement.setAttribute(\"data-theme\", \"\");\n    } else {\n      setDark(true);\n      localStorage.setItem(\"dark\", \"true\");\n      document.documentElement.setAttribute(\"data-theme\", \"dark\");\n    }\n  };\n\n  const changeFormat = (e) => {\n    localStorage.setItem(\"formatType\", JSON.stringify(e));\n    setFormatType(e);\n  };\n\n  const toggleAutoDownload = () => {\n    if (autoDownload) {\n      setAutoDownload(false);\n      localStorage.setItem(\"autoDownload\", \"false\");\n    } else {\n      setAutoDownload(true);\n      localStorage.setItem(\"autoDownload\", \"true\");\n    }\n  };\n\n  const toggleNativeMode = () => {\n    if (nativeMode) {\n      setNativeMode(false);\n      localStorage.setItem(\"nativeMode\", \"false\");\n    } else {\n      setNativeMode(true);\n      localStorage.setItem(\"nativeMode\", \"true\");\n    }\n  };\n\n  const getVideoInfo = async (e) => {\n    if (e.key !== \"Enter\") return;\n    const pInitial = showInitial;\n    setInitial(false);\n    setSearch(true);\n    setStatus(false);\n\n    try {\n      if (!YTregex.test(url)) {\n        throw new Error(\"Invalid youtube link\");\n      }\n\n      const res = await axios.get(`${API}/videoInfo`, {\n        params: {\n          videoURL: url,\n        },\n      });\n\n      if (res.status !== 200) {\n        throw new Error(res.data.message);\n      }\n\n      const info = normalizeVideoInfo(res.data);\n      const is_autodownload = await autoDownloadExists(\n        info,\n        {\n          autoDownload,\n          formatType,\n        },\n        printStatus\n      );\n\n      setInitial(false);\n      setVideoInfo(info);\n      setSearch(false);\n\n      if (is_autodownload) {\n        await start_autodownload();\n      }\n    } catch (err) {\n      setError(true);\n      setStatusMsg(err.message);\n      setStatus(true);\n      setInitial(pInitial ? true : false);\n      setSearch(false);\n    }\n  };\n\n  const start_autodownload = async () => {\n    setStatus(true);\n    setError(false);\n\n    setStatusMsg(`Auto start downloading in 3 sec`);\n    await sleep(1000);\n\n    setStatusMsg(`Auto start downloading in 2 sec`);\n    await sleep(1000);\n\n    setStatusMsg(`Auto start downloading in 1 sec`);\n    await sleep(1000);\n\n    setStatusMsg(`Auto start downloading in 0 sec`);\n    await sleep(1000);\n\n    setStatusMsg(`Started`);\n    await sleep(1000);\n\n    if (nativeMode) {\n      const nUrl = videoInfo.formats.find(\n        (format) => format.itag === formatType.itag\n      ).url;\n      click_link(nUrl);\n    } else {\n      const dFormat = formats.find((format) => format.itag === formatType.itag);\n      click_link(\n        get_download_url({\n          videoURL: url,\n          format: dFormat.format,\n          itag: dFormat.itag,\n        })\n      );\n    }\n\n    setStatus(false);\n  };\n\n  const download = (nUrl, vInfo = {}) => {\n    if (nativeMode) {\n      click_link(nUrl);\n    } else {\n      click_link(\n        get_download_url({\n          videoURL: url,\n          format: vInfo.format,\n          itag: vInfo.itag,\n        })\n      );\n    }\n  };\n\n  const printStatus = (msg, error = false) => {\n    setStatus(true);\n    if (error) {\n      setError(true);\n    }\n\n    setStatusMsg(msg);\n  };\n\n  const resetData = () => {\n    setUrl(\"\");\n    setInitial(true);\n    setStatusMsg(\"\");\n    setStatus(false);\n    setError(false);\n    setFormatType({});\n    setVideoInfo({});\n  };\n\n  return (\n    <div className=\"App\">\n      {showPref && (\n        <Preferences\n          setPref={setPref}\n          autoDownload={autoDownload}\n          onAutoDownloadChange={toggleAutoDownload}\n          formatType={formatType}\n          formatTypes={formatTypes}\n          onFormatChange={changeFormat}\n          nativeMode={nativeMode}\n          onNativeModeChange={toggleNativeMode}\n        />\n      )}\n      <Nav\n        dark={dark}\n        switchTheme={switchTheme}\n        setPref={setPref}\n        showMain={resetData}\n        isSearching={onSearch}\n      />\n      {onSearch ? (\n        <Loading />\n      ) : (\n        !showInitial && (\n          <VideoInfo\n            url={url}\n            setUrl={setUrl}\n            getVideoInfo={getVideoInfo}\n            videoInfo={videoInfo}\n            download={download}\n            status={{\n              showStatus,\n              setStatus,\n              statusMsg,\n              setStatusMsg,\n              error,\n              setError,\n            }}\n          />\n        )\n      )}\n\n      {showInitial && (\n        <Search\n          url={url}\n          setUrl={setUrl}\n          getVideoInfo={getVideoInfo}\n          status={{\n            showStatus,\n            setStatus,\n            statusMsg,\n            setStatusMsg,\n            error,\n            setError,\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}